(function(e){function t(t){for(var r,a,l=t[0],s=t[1],c=t[2],u=0,d=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={1:0},o={1:0},i=[];function l(e){return s.p+"js/"+({}[e]||e)+"."+{2:"f07100f6",3:"e5eef2e0",4:"dff8c439",5:"1697600a",6:"a3b5fdcf",7:"4d381665",8:"3dcfc682",9:"1e8f24a0"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={2:1,3:1,4:1,5:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{2:"2da7ec7a",3:"96406369",4:"96406369",5:"49cc7550",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===o))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===r||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=l(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=u;i.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"1e5b":function(e,t,n){},"2da0":function(e,t,n){"use strict";n("1e5b")},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var r=n("2b0e"),a=n("1f91"),o=n("42d2"),i=n("b05d");r["default"].use(i["a"],{config:{},lang:a["a"],iconSet:o["a"]});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null==e.token?n("div",{attrs:{id:"q-app"}},[n("login")],1):n("div",{attrs:{id:"q-app"}},[n("main-layout")],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-header",{attrs:{elevated:""}},[n("q-toolbar",[n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",[n("router-link",{attrs:{to:"/dashboard"}},[e._v("\n        Hookah Finder\n        ")])],1),n("div",{attrs:{id:"dropdownUser"}},[n("q-item",{attrs:{clickable:""}},[n("img",{staticClass:"user-image",attrs:{src:"http://localhost:8080/"+e.user.photo,alt:"User Image"}}),n("a",{staticStyle:{cursor:"pointer","font-size":"11pt"}},[n("div",{staticStyle:{"margin-top":"8px"}},[e._v(e._s(e.user.email))])])]),n("q-menu",{attrs:{fit:""}},[n("q-list",{staticStyle:{"min-width":"100px"}},[n("q-item",{attrs:{clickable:""}},[n("q-item-section",{on:{click:e.profile}},[n("center",[n("img",{staticClass:"user-image-dropdown",attrs:{src:"http://localhost:8080/"+e.user.photo,alt:"User Image"}}),n("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n                Profile\n              ")])],1)],1)],1),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"8px"}},[e._v(e._s(e.user.email))]),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"8px"}},[e._v(e._s(e.user.role))]),n("q-item",{attrs:{clickable:""},on:{click:e.logout}},[n("q-item-section",[n("q-btn",{attrs:{icon:"logout"}},[n("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n                  Logout\n                ")])],1)],1)],1)],1)],1)],1)],1)],1),n("q-drawer",{attrs:{"show-if-above":"",bordered:""},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-toggle",{staticClass:"toggleDarkMode",attrs:{click:e.setDarkMode()},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}},[n("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n        Turn lights "+e._s(e.onOrOff)+"\n      ")])],1),n("q-list",{attrs:{id:"main-navigation"}},[n("q-item-label",{staticClass:"text-grey-8",attrs:{header:""}},[e._v("\n        Main Navigation\n      ")]),e._l(e.essentialLinks,(function(t){return n("router-link",{key:t.link,staticClass:"text-grey-8",attrs:{to:t.link}},[n("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))],1)}))],2)],1),n("q-page-container",[n("Breadcrumbs"),n("vue-page-transition",{attrs:{name:"fade-in-right"}},[n("router-view")],1)],1)],1)},u=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-list",[n("q-item",{attrs:{clickable:"",tag:"a",target:"_blank",href:e.link}},[e.icon?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.icon}})],1):e._e(),n("q-item-section",[n("q-item-label",[e._v(e._s(e.title))]),n("q-item-label",{attrs:{caption:""}},[e._v("\r\n        "+e._s(e.caption)+"\r\n      ")])],1)],1),n("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Account settings",caption:"John Doe"}},[n("q-item",{attrs:{clickable:"",tag:"a",target:"_blank",href:e.link}},[e.icon?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.icon}})],1):e._e(),n("q-item-section",[n("q-item-label",[e._v(e._s(e.title))]),n("q-item-label",{attrs:{caption:""}},[e._v("\r\n            "+e._s(e.caption)+"\r\n          ")])],1)],1)],1)],1)},f=[],p={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},m=p,h=n("2877"),b=n("1c1c"),g=n("66e5"),v=n("4074"),k=n("0016"),y=n("0170"),w=n("3b73"),q=n("eebe"),_=n.n(q),O=Object(h["a"])(m,d,f,!1,null,null,null),x=O.exports;_()(O,"components",{QList:b["a"],QItem:g["a"],QItemSection:v["a"],QIcon:k["a"],QItemLabel:y["a"],QExpansionItem:w["a"]});const S=[{title:"Dashboard",caption:"Home",icon:"home",link:"/dashboard"}];var P=S,Q=n("f0eb"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-sm"},[n("q-breadcrumbs",{attrs:{align:"right"}},[n("q-breadcrumbs-el",{attrs:{label:"Dashboard",icon:"home",to:"/dashboard"}}),"/profile"==e.$route.fullPath?n("q-breadcrumbs-el",{attrs:{label:"Profile",icon:"people",to:"/profile"}}):e._e()],1)],1)},L=[],j={name:"Breadcumbs"},C=j,M=n("ead5"),$=n("079e"),D=Object(h["a"])(C,E,L,!1,null,null,null),I=D.exports;_()(D,"components",{QBreadcrumbs:M["a"],QBreadcrumbsEl:$["a"]}),r["default"].use(Q["default"]);var T={name:"MainLayout",components:{EssentialLink:x,Breadcrumbs:I},data(){return{leftDrawerOpen:!1,essentialLinks:P,el:"",darkMode:!0,onOrOff:"on",user:{email:"",photo:"",role:""},token:null}},created(){let e=this;e.user.email=localStorage.getItem("email"),e.token=localStorage.getItem("token"),e.$axios.post("/user/get-photo",{email:e.user.email}).then((function(t){t.data?(e.user.photo=t.data.profile_picture,console.log(e.fullPath)):console.log("Error")})),e.$axios.post("/user/get-role",{email:e.user.email}).then((function(t){t.data?e.user.role=t.data.role_name:console.log("Error")}))},methods:{setDarkMode(){this.darkMode?(this.$q.dark.set(!0),this.onOrOff="on"):(this.$q.dark.set(!1),this.onOrOff="off")},logout(e){e.preventDefault(),this.$axios.post("logout",{token:this.token}).then((function(e){console.log(e),e.data?(console.log(e.data),localStorage.clear(),window.location.href="/"):console.log("Error")}))},profile(){const e=this;e.$router.push("/profile")}}},A=T,B=(n("2da0"),n("4d5a")),H=n("e359"),N=n("65c6"),F=n("9c40"),U=n("6ac5"),J=n("4e73"),R=n("05c0"),V=n("7ff0"),z=n("9404"),K=n("9564"),G=n("09e3"),W=Object(h["a"])(A,c,u,!1,null,null,null),X=W.exports;_()(W,"components",{QLayout:B["a"],QHeader:H["a"],QToolbar:N["a"],QBtn:F["a"],QToolbarTitle:U["a"],QItem:g["a"],QMenu:J["a"],QList:b["a"],QItemSection:v["a"],QTooltip:R["a"],QFooter:V["a"],QDrawer:z["a"],QToggle:K["a"],QItemLabel:y["a"],QPageContainer:G["a"]});var Y=n("4632");n("22b6");var Z={name:"App",data(){return{token:null}},mounted(){const e=this;return e.token=localStorage.getItem("token"),console.log(e.$router),null!==e.token&&"/"==$self.router.path?(e.$router.push("/dashboard"),!1):null==e.token?(e.$router.push("/"),!1):void 0},components:{"main-layout":X,login:Y["default"]}},ee=Z,te=(n("5c0b"),Object(h["a"])(ee,l,s,!1,null,null,null)),ne=te.exports,re=n("2f62"),ae=n("e75b"),oe=n.n(ae),ie=(n("bf68"),n("88b0")),le=n.n(ie);let se={};r["default"].use(le.a,se),r["default"].use(re["a"]),r["default"].use(oe.a);var ce=function(){const e=new re["a"].Store({state:{darkMode:!1},mutations:{change(e,t){e.darkMode=t}},getters:{dark:e=>e.darkMode},modules:{},strict:!1});return e},ue=n("8c4f");n("ddb0");const de=[{path:"/",name:"Login",component:()=>Promise.resolve().then(n.bind(null,"4632")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"013f"))}]},{path:"/register",name:"Register",component:()=>n.e(2).then(n.bind(null,"868f")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"56b4"))}]},{path:"/profile",name:"Profile",component:()=>n.e(7).then(n.bind(null,"e274")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"cdd0"))}]},{path:"/dashboard",name:"Dashboard",component:()=>n.e(6).then(n.bind(null,"8265")),children:[{path:"",component:()=>n.e(8).then(n.bind(null,"ec95"))}]},{path:"*",component:()=>n.e(9).then(n.bind(null,"e51e"))}];var fe=de;r["default"].use(ue["a"]);var pe=function(){const e=new ue["a"]({scrollBehavior:()=>({x:0,y:0}),routes:fe,mode:"history",base:"/"});return e},me=async function(){const e="function"===typeof ce?await ce({Vue:r["default"]}):ce,t="function"===typeof pe?await pe({Vue:r["default"],store:e}):pe;e.$router=t;const n={router:t,store:e,render:e=>e(ne),el:"#q-app"};return{app:n,store:e,router:t}},he=n("bc3a"),be=n.n(he),ge=n("b50d"),ve=n.n(ge);r["default"].prototype.$axios=be.a,be.a.defaults.baseURL="http://localhost:8080",be.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",be.a.defaults.headers.common["Content-Type"]="application/json",be.a.defaults.headers.common["Accept"]="application/json",be.a.defaults.adapter=ve.a,be.a.interceptors.request.use((function(e){const t=localStorage.getItem("token");return null!==t?(e.headers["Authorization"]=t,e.headers=e.headers||{}):localStorage.clear(),e}),(function(e){return Promise.reject(e)})),be.a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(localStorage.clear(),router.push({path:"/login"})),Promise.reject(e)}));const ke="/";async function ye(){const{app:e,store:t,router:n}=await me();let a=!1;const o=e=>{a=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),l=[void 0];for(let c=0;!1===a&&c<l.length;c++)if("function"===typeof l[c])try{await l[c]({app:e,router:n,store:t,Vue:r["default"],ssrContext:null,redirect:o,urlPath:i,publicPath:ke})}catch(s){return s&&s.url?void(window.location.href=s.url):void console.error("[Quasar] boot error:",s)}!0!==a&&new r["default"](e)}ye()},"31cd":function(e,t,n){},4632:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("router-view")],1)],1)},a=[],o={data(){return{}}},i=o,l=(n("6770"),n("2877")),s=n("4d5a"),c=n("09e3"),u=n("eebe"),d=n.n(u),f=Object(l["a"])(i,r,a,!1,null,"ba3771d6",null);t["default"]=f.exports;d()(f,"components",{QLayout:s["a"],QPageContainer:c["a"]})},"5c0b":function(e,t,n){"use strict";n("ffd0")},6770:function(e,t,n){"use strict";n("b0e8")},b0e8:function(e,t,n){},ffd0:function(e,t,n){}});
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"013f":function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"centered-container"},[e("md-content",{staticClass:"md-elevation-3"},[e("div",{staticClass:"title"},[e("h3",[a._v("Hookah Finder")])]),e("div",{staticClass:"form"},[e("md-field",[e("label",[a._v("Email")]),e("md-input",{attrs:{autofocus:""},model:{value:a.formularioLogin.email,callback:function(t){a.$set(a.formularioLogin,"email",t)},expression:"formularioLogin.email"}})],1),e("md-field",{attrs:{"md-has-password":""}},[e("label",[a._v("Password")]),e("md-input",{attrs:{type:"password"},on:{keydown:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),a.submit(t))}},model:{value:a.formularioLogin.senha,callback:function(t){a.$set(a.formularioLogin,"senha",t)},expression:"formularioLogin.senha"}})],1)],1),e("div",{staticClass:"actions md-layout md-alignment-center-space-between"},[e("md-button",{staticClass:"md-raised md-primary",on:{click:a.logar}},[a._v("Log in")]),e("router-link",{attrs:{to:"/register"}},[e("md-button",{staticClass:"md-raised md-secundary"},[a._v("Register")])],1)],1)]),e("div",{staticClass:"background"})],1)},n=[],i=(e("e6cf"),e("2b0e")),s=e("43f9"),r=e.n(s);e("51de"),e("e094");e("22b6"),i["default"].use(r.a);var l={data(){return{loading:!1,formularioLogin:{}}},mounted(){const a=this;a.token=localStorage.getItem("token"),"/"===a.$route.path&&null!==a.token&&(window.location.href="/dashboard")},methods:{async logar(){const a=this;try{this.$axios.post("/login",{email:this.formularioLogin.email,password:this.formularioLogin.senha}).then((function(t){if(console.log(t.data),t.data.noExist)a.$awn.alert("Email does not exist in our system.");else{if(t.data.isEmpty)return a.$awn.alert("User and password cannot be empty."),!1;t.data.auth?(localStorage.setItem("token",t.data.token),localStorage.setItem("email",t.data.email),window.location.href="/dashboard"):a.$awn.alert("Wrong email or password, try again.")}}))}catch(t){console.log("Dados com o erro",t)}},limpar(){this.formularioLogin={}},submit(){this.logar()}}},d=l,c=(e("50ba"),e("2877")),m=Object(c["a"])(d,o,n,!1,null,null,null);t["default"]=m.exports},"50ba":function(a,t,e){"use strict";e("fe3c")},fe3c:function(a,t,e){}}]);